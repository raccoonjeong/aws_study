# aws_study

## Chapter 1. AWS 시작하기

* 인프라스트럭처란?
  - 서비스 및 플랫폼을 개발하기 위해 필요한 모든 자원을 관리하는 기반
  - IT인프라는 서비스를 운영하기 위한 IT 리소스(서버, DB, 네트워크, 스토리지 등)를 구축하고 운영하기 위한 모든 개념

* 서비스 수준에 따른 클라우드의 형태
  - IaaS (Infrastructure as a Service)
    - 서버/네트워크를 임대형식같이 서비스로 제공한다. 
    - 구축된 서버에 OS, 미들웨어 설치나 네트워크를 설정하는 작업은 이용자가 직접 수행해야 함.
  - PaaS (Platform as a Service)
    - 애플리케이션이 작동하는 데 필요한 플랫폼(웹 서버, DB 등) 자체를 서비스로 제공. 
    - 이용자는 애플리케이션만 작성해서 배포하면 됨.
  - SaaS (Sortware as a Service)
    - 클라우드 제공자가 전용 애플리케이션까지 제공.
    - 이용자는 서비스의 대가만 지불하면 됨

* 서버리스 애플리케이션
  - 애플리케이션을 움직이는 인프라스트럭처를 AWS 기능으로 모두 관리하는 시스템
  - 서버의 안정된 가동이나 갑작스러운 부하에 대한 성능 향상 등이 자동으로 수행
  - 애플리케이션 개발자는 단순히 사용한 부분에 대한 비용만 지불
  - "서버가 없는 것은 아니고, 서버를 직접 관리할 필요가 없는 아키텍처"

[Talk]
- pdf 24p에 LAMP > 리눅스마스터 시험에도 나오더라.
- pdf 25p 서버리스 개념 찾아보자.
- pdf 26p에 머신러닝 > 해킹으로 3억 털린 케이스
- pdf 27p AWS 서비스 설명



## Chapter 2. AWS 시작하기

[Talk]
- 카드번호 입력시 유의..
- p38에 나와있는 UI랑 현재 UI랑 좀 다른듯?



## Chapter 3. AWS 시작하기

* IAM (Identity and Access Management)
  - AWS의 리소스 접근을 안전하게 관리하는 시스템
  - 주로 인증과 접근 허가 기능을 구현함

* 인증
  - 현재 이용하는 사용자가 누구인가(ID, 비밀번호)를 AWS에 전달

* 접근 허가(=인가)
  - 사용자가 어떤 기능을 사용할수 있는가를 관리하고 허가

* 루트 사용자
  - 모든 리소스에 접근할 수 있는 강력한 접근 권한을 가짐
  - AWS 계약 해지, 사용자 관리 등 특수한 작업에만 이용
  - 통상적인 개발에 사용하는 일반 사용자(IAM 사용자)를 만들고 권한을 부여함
    - (VPC 생성, EC2 인스턴스 생성, ...)

* IAM의 보안 모범 사례 예시
  1. AWS 계정 루트 사용자의 액세스 키 잠금
  2. MFA 활성화
  3. 개별 IAM 사용자 생성
  4. 사용자 그룹을 이용한 접근 권한 할당
  5. 사용자에 대한 강력한 암호 정책 구성

* 액세스 키
  - 콘솔 외 프로그램을 통해 조작할 때 이용하는 정보
  - 루트 사용자의 액세스 키는 없는 상태로 둬야 함

* 인증요소의 세가지 분류
  1. 아는 요소: 본인만 알 수 있는 정보 (비밀번호, 인증번호 등)
  2. 가진 요소: 본인만 가지는 것 (스마트폰, 신용카드 등)
  3. 갖춘 요소: 본인의 생물학적 요소 (지문, 홍채 등)
  - ===> 이 중 여러 요소를 조합해 인증을 수행하는 것: 멀티 팩터 인증, MFA
  
[Talk]
  - p59 PowerUserAccess. IAMFullAccess 좀 조심해야될거같다
  - p61 그래서 이 계정은 어떻게 로그인하는거지?

[Did]
  - IAM 계정 생성


## Chapter 4. 가상 네트워크 만들기

* 일반적인 인프라스트럭처 구축 작업에서는 (루트 사용자가 아닌) IAM 사용자 이용을 권장
* 
* VPC (Amazon Virtual Private Cloud, Amazon VPC)
  - AWS의 데이터센터에 있는 전용기기에서 서버나 네트워크 장비가 가진 기능을 에뮬레이션하는 소프트웨어를 작동시켜, 물리적인 기기를 이용하지 않고 구축하는 가상의 네트워크
  - 기기 추가, 삭제를 소프트웨어 실행이나 정지처럼 간단히 수행할 수 있음
  - VPC끼리는 독립적

* IP 주소와 CIDR
  - IP 주소: 네크워크상의 기기가 통신할 때 도착지가 되는 정보. 전화번호와 유사
  - CIDR(classless inter-domain routing)은 IP 주소를 관리하는 범위를 결정하는 방법. 전화번호를 시외, 시내 등으로 구분해서 관리하는 것과 유사

* [주의] 테넌시 - '전용'으로 설정하면 별도 비용이 추가되므로 주의!!

* 서브넷
  - VPC의 IP 주소 범위를 나누는 단위
  - 이유
      1. 역할 분리: 외부에 공개하는 리소스 여부를 구별
      2. 기기 분리: AWS 안에서의 물리적인 이중화(다중화)를 수행

* IPv4 CIDR 설계시 고려되는 항목 2개
  - 생성할 서브넷의 수
  - 서브넷 안에 생성할 리소스 수

* 게이트웨이
  - 생성된 네트워크와 인터넷 사이의 통신을 가능하게 하는 것

* NAT(Network Address Translation) 게이트웨이
  - 리소스를 인터넷으로 내보낼 수는 있지만 인터넷에서 접근은 막아야 하는 경우 NAT 라는 네트워크 주소 변환 시스템을 사용.
  - NAT 게이트웨이는 퍼블릭 서브넷에 대해 생성함.
  - 이중성을 확보하려면 여러 NAT 게이트웨이를 생성하는 게 좋다.
  - 게이트웨이마다 각각 비용이 들기 때문에 하나의 NAT 게이트웨이만 제공해 운용하기도 함.

* 현실 세계와 NAT 대응
  - 아파트 : NAT 게이트웨이
  - 아파트 주소 : NAT 게이트웨이의 퍼블릭 IP(공개IP)
  - 호실 번호 : 프라이빗 IP(사설IP)
  - 내부 -> 외부로 통실 수행시, 호실 번호(프라이빗IP)만 포함한 정보를 주소(퍼블릭IP)도 포함한 정보로 변환하는 시스템을 NAT라 한다.

* [주의] pdf 83p. 자동 생성한 탄력적 IP는 NAT 게이트웨이 생성을 중단하거나, 생성 후에 NAT 게이트웨이를 삭제해도 그대로 남아있다. 
  * 남은 탄력적 IP는 이용하지 않더라도 이용료가 부과된다. 
  * NAT 게이트웨이를 삭제했을 때는 자동 생성된 탄력적 IP도 함께 삭제해야 한다

* [주의] pdf 90p. 처음 작업하는 상태에서는 기본 VPC에 정의된 2개의 라우팅 테이블이 이미 존재

* 라우팅 테이블
  - '이 서버에 접속할 때는 이 곳을 경유한다'라는 규칙을 설정하는 테이블
    1. 송신 대상지(접속 대상 위치.IP 주소 or CIDR형식 범위)
    2. 타깃(경유지)
      - 로컬: 동일 VPC 안의 리소스에 접근
      - 인터넷 게이트웨이: 퍼블릭 서브넷에 생성된 리소스가 인터넷 서버와 통신
      - NAT 게이트웨이: 프라이빗 서브넷에 생성된 리소스가 인터넷 서버와 통신
      - VPN 게이트웨이: VPN을 통해 접속된 독자 네트워크상의 서버와 통신
      - VPC 피어링: 접속을 허가한 다른 VPC상의 리소스와 통신

[Quiz]
* 서브넷 마스크란?
  - 필요한 네트워크 주소만 호스트 IP로 할당 할 수 있게 만들어 네트워크 낭비를 방지
* 내부 -> 외부로 통실 수행시, 프라이빗IP만 포함한 정보를 퍼블릭IP도 포함한 정보로 변환하는 시스템은? -> NAT
* 라우팅 테이블이 하는 역할은? -> '이 서버에 접속할 때는 이 곳을 경유한다'라는 규칙을 설정
[Talk]
* pdf 67p 최대 16비트인 이유는? << 잘 이해안감
* pdf 68p 10.0.0.0/16 왜 16? 기본값은 24로 되어있는데
* pdf 74p 다른 가용영역을 이용하라는 게 무슨 말인지 모르겠음

[Did]
* VPC 생성
* 
